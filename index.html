<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#0b1530">
  <title>Ajanda</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <div id="app" class="app">
    <header class="app-header">
      <h1 class="title">Ajanda</h1>
      <button class="icon-btn settings-btn" id="btnSettings" aria-label="Ayarlar">
        <svg viewBox="0 0 24 24" width="20" height="20"><path d="M12 8.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm9.5 3.5a7.3 7.3 0 0 0-.1-1l2.2-1.7-2-3.5-2.6 1a7.7 7.7 0 0 0-1.7-1l-.4-2.7H9.2l-.4 2.7a7.7 7.7 0 0 0-1.7 1l-2.6-1-2 3.5 2.2 1.7a7.3 7.3 0 0 0 0 2l-2.2 1.7 2 3.5 2.6-1a7.7 7.7 0 0 0 1.7 1l.4 2.7h5.2l.4-2.7c.6-.2 1.2-.5 1.7-1l2.6 1 2-3.5-2.2-1.7c.1-.3.1-.7.1-1Z" fill="currentColor"/></svg>
      </button>
    </header>

    <section class="date-section">
      <div class="date-head">
        <div class="today-label" id="monthLabel">Ağustos 2025</div>
        <button class="chip" id="openCal"><span class="chip-dot"></span>Takvimi aç</button>
      </div>
    </section>

    <section class="timeline-section">
      <h2 class="section-title">Günün Zaman Çizelgesi</h2>
      <div id="timeline" class="timeline"></div>
      <div class="empty" id="emptyState">Bu gün için kayıt yok.</div>
    </section>

    <!-- Floating Search -->
    <button class="icon-fab search-fab" id="btnSearch" aria-label="Ara">
      <svg viewBox="0 0 24 24" width="24" height="24"><path d="M15.5 14h-.8l-.3-.3a6.5 6.5 0 1 0-.7.7l.3.3v.8l5 5 1.5-1.5-5-5Zm-6 0a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9Z" fill="currentColor"/></svg>
    </button>

    <!-- Main FAB -->
    <button class="fab-main" id="btnMainFab" aria-label="Yeni">
      <span>+</span>
    </button>

    <!-- 3-action sheet -->
    <div id="fabPanel" class="fab-panel" aria-hidden="true">
      <button class="fab-item" data-action="note"><div class="fab-ico">📄</div><div>Not</div></button>
      <button class="fab-item" data-action="call"><div class="fab-ico">📞</div><div>Çağrı</div></button>
      <button class="fab-item" data-action="place"><div class="fab-ico">📍</div><div>Konum</div></button>
    </div>

    <!-- modal scrim -->
    <div id="scrim" class="scrim" aria-hidden="true"></div>

    <!-- Calendar Panel -->
    <aside class="sheet" id="sheetCal" aria-hidden="true">
      <div class="panel">
        <div class="panel-head">
          <button class="back icon-btn" data-back>‹</button>
          <div class="title">Takvim</div>
        </div>
        <div class="panel-body">
          <div class="calendar" id="calendar"></div>
        </div>
      </div>
    </aside>

    <!-- Search Panel -->
    <aside class="sheet" id="sheetSearch" aria-hidden="true">
      <div class="panel">
        <div class="panel-head">
          <button class="back icon-btn" data-back>‹</button>
          <div class="title">Arama</div>
        </div>
        <div class="panel-body">
          <input id="q" class="textfield" placeholder="kelime, kişi…">
          <div class="chips">
            <button class="chip" data-filter="all">Tümü</button>
            <button class="chip" data-filter="note">Not</button>
            <button class="chip" data-filter="call">Çağrı</button>
            <button class="chip" data-filter="place">Konum</button>
          </div>
          <div id="searchList" class="list"></div>
        </div>
      </div>
    </aside>

    <!-- Detail Panel -->
    <aside class="sheet" id="sheetDetail" aria-hidden="true">
      <div class="panel">
        <div class="panel-head">
          <button class="back icon-btn" data-back>‹</button>
          <div class="title">Detay</div>
          <div class="actions">
            <button class="icon-btn" id="btnEdit" title="Düzenle">✎</button>
            <button class="icon-btn danger" id="btnDel" title="Sil">🗑</button>
          </div>
        </div>
        <div class="panel-body" id="detailBody"></div>
      </div>
    </aside>

    <!-- Editor Panel -->
    <aside class="sheet" id="sheetEdit" aria-hidden="true">
      <div class="panel">
        <div class="panel-head">
          <button class="back icon-btn" data-back>‹</button>
          <div class="title" id="editTitle">Yeni</div>
          <button class="pill ok" id="btnSave">Kaydet</button>
        </div>
        <div class="panel-body">
          <label class="label">Başlık</label>
          <input id="iTitle" class="textfield" placeholder="örn. Fikir, yapılacak…">
          <label class="label">Not</label>
          <textarea id="iText" class="textarea" placeholder="Metni yaz…"></textarea>
          <label class="label">Etiketler (virgülle)</label>
          <input id="iTags" class="textfield" placeholder="iş, spor, aile">
          <label class="label">Saat</label>
          <input id="iTime" class="textfield" placeholder="örn. 14:30">
        </div>
      </div>
    </aside>

    <!-- Settings Panel -->
    <aside class="sheet" id="sheetSettings" aria-hidden="true">
      <div class="panel">
        <div class="panel-head">
          <button class="back icon-btn" data-back>‹</button>
          <div class="title">Ayarlar</div>
        </div>
        <div class="panel-body">
          <div class="row">
            <div class="label">Sürüm</div><div class="value">v10.2.6</div>
          </div>
          <div class="row">
            <button id="btnExport" class="pill">Verileri JSON olarak indir</button>
          </div>
          <div class="row">
            <input type="file" id="fileImport" accept="application/json" style="display:none">
            <button id="btnImport" class="pill">JSON içe aktar</button>
          </div>
          <div class="row">
            <button id="btnClearCache" class="pill info">Önbelleği Temizle (SW + Cache)</button>
          </div>
          <div class="row">
            <button id="btnWipe" class="pill danger">Tüm Kayıtları Sil</button>
          </div>
        </div>
      </div>
    </aside>

  </div>

  <script src="js/app.js"></script>
</body>
</html>
