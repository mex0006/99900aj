<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Ajanda</title>
  <meta name="color-scheme" content="dark">
  <link rel="stylesheet" href="./css/main.css?v=9.5">
  <!-- Leaflet for map selection -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
</head>
<body>
  <div id="app">
    <header class="app-header">
      <h1>Ajanda</h1>
      <div class="status-dot" title="Takip ışığı"></div>
    </header>

    <main id="page-home" class="page active">
      <section class="card hero" id="dayHeader">
        <div class="day-title" id="dayTitle">–</div>
      </section>

      <section class="card">
        <div class="row between center">
          <h2 class="section-title">Ağustos 2025</h2>
          <button id="btnToggleCal" class="chip"><span>📅</span> Takvimi aç</button>
        </div>
        <div id="calendar" class="calendar hidden"></div>
      </section>

      <section class="card">
        <h2 class="section-title">Günün Zaman Çizelgesi</h2>
        <div id="timeline" class="timeline empty">Bu gün için kayıt yok.</div>
      </section>
    </main>

    <!-- FAB bottom bar -->
    <nav class="tabbar">
      <button class="tab" id="tabHome" aria-label="Ana">🏠</button>
      <button class="tab" id="tabMap" aria-label="Harita">🗺️</button>
      <button class="fab" id="fabAdd" aria-label="Ekle">＋</button>
      <button class="tab" id="tabSearch" aria-label="Arama">🔍</button>
      <button class="tab" id="tabSettings" aria-label="Ayarlar">⚙️</button>
    </nav>

    <!-- Radial quick add -->
    <div id="quickAdd" class="quick-add hidden">
      <button class="qbtn" data-type="note" title="Not">📝</button>
      <button class="qbtn" data-type="call" title="Çağrı">📞</button>
      <button class="qbtn" data-type="place" title="Konum">📍</button>
    </div>

    <!-- Composer (forms) -->
    <section id="composer" class="composer hidden" aria-hidden="true">
      <div class="blur"></div>
      <div class="sheet" role="dialog" aria-modal="true">
        <div class="sheet-head">
          <button class="round-btn ghost" id="cmpBack" aria-label="Geri">‹</button>
          <div id="cmpTitle" class="sheet-title">Yeni</div>
          <button class="round-btn success" id="cmpSave" aria-label="Kaydet">✓</button>
        </div>
        <div class="sheet-body">
          <!-- Note form -->
          <form id="form-note" class="form hidden">
            <div class="field">
              <label>Başlık (opsiyonel)</label>
              <input type="text" id="noteTitle" placeholder="örn. Fikir, yapılacak...">
            </div>
            <div class="field">
              <label>Not</label>
              <textarea id="noteText" rows="6" placeholder="Metni yaz..."></textarea>
            </div>
            <div class="field">
              <label>Etiketler (virgülle)</label>
              <input type="text" id="noteTags" placeholder="iş, spor, aile">
            </div>
          </form>

          <!-- Call form -->
          <form id="form-call" class="form hidden">
            <div class="field">
              <label>Kişi adı</label>
              <input type="text" id="callName" placeholder="örn. Ayşe Yılmaz">
            </div>
            <div class="field">
              <label>Tür</label>
              <div class="segmented" id="callType">
                <button type="button" data-v="gelen" class="on">Gelen</button>
                <button type="button" data-v="giden">Giden</button>
                <button type="button" data-v="cevapsız">Cevapsız</button>
              </div>
            </div>
            <div class="field">
              <label>Not (opsiyonel)</label>
              <input type="text" id="callNote" placeholder="Kısa not...">
            </div>
          </form>

          <!-- Place form -->
          <form id="form-place" class="form hidden">
            <div class="field">
              <label>Yer adı</label>
              <input type="text" id="placeName" placeholder="örn. Ev, İş, Kafe">
            </div>
            <div class="field">
              <label>Adres</label>
              <input type="text" id="placeAddr" placeholder="Cadde, No, ilçe...">
            </div>
            <div class="field grid2">
              <div>
                <label>Koordinat</label>
                <input type="text" id="placeCoord" placeholder="enlem, boylam">
              </div>
              <div class="mt24">
                <button type="button" id="pickOnMap" class="chip">Haritadan seç</button>
              </div>
            </div>
            <div id="mapWrap" class="map-wrap hidden">
              <div id="map" class="map"></div>
              <div class="map-actions">
                <button id="mapBack" class="round-btn ghost">‹</button>
                <button id="mapOk" class="round-btn success">✓</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script defer src="./js/app.js?v=9.5"></script>
</body>
</html>
